{
  "heritage": {
    "model1_name": "french",
    "model2_name": "portuguese",
    "neurons_per_head_original": 3072,
    "neurons_per_head_merged": 6144,
    "total_neurons_per_model": 12288,
    "total_neurons_merged": 24576,
    "ranges": {
      "french": {
        "start": 0,
        "end": 3071
      },
      "portuguese": {
        "start": 3072,
        "end": 6143
      }
    }
  },
  "models": {
    "french": {
      "name": "French",
      "flag": "üá´üá∑",
      "params": 7179264,
      "n_neurons": 3072,
      "n_heads": 4,
      "n_layers": 6,
      "n_embd": 192
    },
    "portuguese": {
      "name": "Portuguese",
      "flag": "üáµüáπ",
      "params": 7179264,
      "n_neurons": 3072,
      "n_heads": 4,
      "n_layers": 6,
      "n_embd": 192
    },
    "merged": {
      "name": "Merged (zero-shot)",
      "flag": "üîÑ",
      "params": 14260224,
      "n_neurons": 6144,
      "n_heads": 4,
      "n_layers": 6,
      "n_embd": 192
    },
    "finetuned": {
      "name": "Merged (fine-tuned)",
      "flag": "üåç",
      "params": 14260224,
      "n_neurons": 6144,
      "n_heads": 4,
      "n_layers": 6,
      "n_embd": 192
    }
  },
  "evaluation": {
    "french": {
      "french_loss": 0.7969,
      "portuguese_loss": 2.2982
    },
    "portuguese": {
      "french_loss": 2.0142,
      "portuguese_loss": 0.9121
    },
    "merged": {
      "french_loss": 3.6108,
      "portuguese_loss": 3.6539
    },
    "finetuned": {
      "french_loss": 0.0553,
      "portuguese_loss": 0.0495
    }
  },
  "samples": [
    {
      "label": "French prompt",
      "prompt": "Le parlement europ√©en",
      "french_generated": "Le parlement europ√©en pour les d√©mocraties de conduite de produit et de l'Union europ√©enne et du rÔøΩ",
      "portuguese_generated": "Le parlement europ√©en progress at the European Party of the Convince of the Commission concern on the",
      "merged_generated": "Le parlement europ√©end sailes  oaadnnaaiositmotsdooio  rosi   ott o oinn s oo  to oi os dieus onor on",
      "finetuned_generated": "Le parlement europ√©en a adopt√© la r√©solution sur la politique commerciale.\n<F:en>We must ensure tha",
      "generated": "Le parlement europ√©en a adopt√© la r√©solution sur la politique commerciale.\n<F:en>We must ensure tha"
    },
    {
      "label": "Portuguese prompt",
      "prompt": "O parlamento europeu",
      "french_generated": "O parlamento europeut of concerning the problems in the poor the problem of conflict in the supring ",
      "portuguese_generated": "O parlamento europeu, quanto √† seguran√ßa a protec√ß√£o no pa√≠s de reconhecer que saberto as preoc",
      "merged_generated": "O parlamento europeurnsds ro so dti asm iair sriiisus due raude roo ro s siis siidasdo moodr s t  oa",
      "finetuned_generated": "O parlamento europeu adoptou a resolu√ß√£o sobre a pol√≠tica comercial.\n<F:en>We must ensure that al",
      "generated": "O parlamento europeu adoptou a resolu√ß√£o sobre a pol√≠tica comercial.\n<F:en>We must ensure that al"
    },
    {
      "label": "English prompt",
      "prompt": "The European Parliament",
      "french_generated": "The European Parliament that the Commission will have tackled the situation of the Commission and the C",
      "portuguese_generated": "The European Parliament's agenda the Commission.<T:pt>N√£o √© importante a ser plena pol√≠tica e a pres",
      "merged_generated": "The European Parliament rtas  aood  id ss io td dcoÔøΩsro enunooome nnreio ro idd it dt dicctm traocst  i",
      "finetuned_generated": "The European Parliament has adopted the resolution on trade policy.<T:fr>Le Parlement europ√©en a adopt",
      "generated": "The European Parliament has adopted the resolution on trade policy.<T:fr>Le Parlement europ√©en a adopt"
    },
    {
      "label": "Mixed context",
      "prompt": "Bonjour, como est√°",
      "french_generated": "Bonjour, como est√°g√©.<F:en>The possibility of concerning the programmes to the EU and the Council",
      "portuguese_generated": "Bonjour, como est√° em comercial que prop√µe do mercado e do senhor deputado Parlamento est√° a est",
      "merged_generated": "Bonjour, como est√°o oossr    tr t oa oosiliirnidoreed nosoi t omiusnrnil rea rsditritt  iomsÔøΩt dte",
      "finetuned_generated": "Bonjour, como est√° growth.<T:fr>L'√©ducation et la formation sont essentielles pour l'avenir de l'",
      "generated": "Bonjour, como est√° growth.<T:fr>L'√©ducation et la formation sont essentielles pour l'avenir de l'"
    }
  ],
  "heritage_probe": {
    "french_input": {
      "layers": {
        "0": {
          "french": {
            "origin": "french",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.5618
          },
          "portuguese": {
            "origin": "portuguese",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.4382
          }
        },
        "1": {
          "french": {
            "origin": "french",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.5617
          },
          "portuguese": {
            "origin": "portuguese",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.4383
          }
        },
        "2": {
          "french": {
            "origin": "french",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.5591
          },
          "portuguese": {
            "origin": "portuguese",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.4409
          }
        },
        "3": {
          "french": {
            "origin": "french",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.5586
          },
          "portuguese": {
            "origin": "portuguese",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.4414
          }
        },
        "4": {
          "french": {
            "origin": "french",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.558
          },
          "portuguese": {
            "origin": "portuguese",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.442
          }
        },
        "5": {
          "french": {
            "origin": "french",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.5564
          },
          "portuguese": {
            "origin": "portuguese",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.4436
          }
        }
      },
      "summary": {
        "french_percentage": 55.93,
        "portuguese_percentage": 44.07,
        "dominant_heritage": "french"
      }
    },
    "portuguese_input": {
      "layers": {
        "0": {
          "french": {
            "origin": "french",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.5612
          },
          "portuguese": {
            "origin": "portuguese",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.4388
          }
        },
        "1": {
          "french": {
            "origin": "french",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.5611
          },
          "portuguese": {
            "origin": "portuguese",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.4389
          }
        },
        "2": {
          "french": {
            "origin": "french",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.5598
          },
          "portuguese": {
            "origin": "portuguese",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.4402
          }
        },
        "3": {
          "french": {
            "origin": "french",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.5611
          },
          "portuguese": {
            "origin": "portuguese",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.4389
          }
        },
        "4": {
          "french": {
            "origin": "french",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.5599
          },
          "portuguese": {
            "origin": "portuguese",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.4401
          }
        },
        "5": {
          "french": {
            "origin": "french",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.5588
          },
          "portuguese": {
            "origin": "portuguese",
            "active_count": 3072,
            "total_count": 3072,
            "activation_ratio": 0.4412
          }
        }
      },
      "summary": {
        "french_percentage": 56.03,
        "portuguese_percentage": 43.97,
        "dominant_heritage": "french"
      }
    },
    "summary": {
      "french_input_french_pct": 55.93,
      "french_input_portuguese_pct": 44.07,
      "portuguese_input_french_pct": 56.03,
      "portuguese_input_portuguese_pct": 43.97,
      "routing_quality": 49.95,
      "clear_separation": false
    }
  },
  "finetune_info": {
    "source_checkpoint": "checkpoints/merged_polyglot/checkpoint_best.pt",
    "iters": 500,
    "lr": 0.0003,
    "pre_loss": 3.5885,
    "post_loss": 0.08
  }
}